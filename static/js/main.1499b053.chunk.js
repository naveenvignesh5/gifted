(this["webpackJsonpgojek-project"]=this["webpackJsonpgojek-project"]||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){e.exports=n(69)},38:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(12),s=n.n(i),o=(n(38),n(8)),l=n(2),u=n(28),f=n(29),g=n.n(f)()({REQUEST_FETCH_GIFS:null,REQUEST_FETCH_GIFS_SUCCESS:null,REQUEST_FETCH_GIFS_FAILURE:null,REQUEST_PLAY:null,REQUEST_PAUSE:null}),h=24,m="cats",d={isFetching:!1,isError:!1,gifs:[],totalPages:0,error:null,isPlaying:!1},E=Object(l.c)({gif:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.REQUEST_FETCH_GIFS:return Object.assign({},d,e,{isFetching:!0});case g.REQUEST_FETCH_GIFS_SUCCESS:return Object.assign({},d,e,{gifs:t.payload.data,totalPages:t.payload.pagination.total_count/h});case g.REQUEST_FETCH_GIFS_FAILURE:return Object.assign({},d,e,{isError:!0,error:t.error});case g.REQUEST_PLAY:return Object.assign({},d,e,{isPlaying:!0});case g.REQUEST_PAUSE:return Object.assign({},d,e,{isPlaying:!1});default:return e}}}),p=Object(l.d)(E,Object(l.a)(u.a)),v=n(5),b=n(6),S=n(9),y=n(7),P=n(10),j=n(16),O=n.n(j),_=n(30),N=n(31),k=n.n(N),C=function(e){return{type:g.REQUEST_FETCH_GIFS_FAILURE,error:e}},T=function(e){return function(){var t=Object(_.a)(O.a.mark((function t(n){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:g.REQUEST_FETCH_GIFS}),a=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&"),t.next=5,k.a.get("".concat("//api.giphy.com/v1","/gifs/search?api_key=").concat("bn9YN3FLqh2OTYr3tzD7YxkZxdRNY4Qz","&").concat(a,"&limit=").concat(h));case 5:if(!(r=t.sent).data){t.next=9;break}return n((c=r.data,{type:g.REQUEST_FETCH_GIFS_SUCCESS,payload:c})),t.abrupt("return");case 9:n(C("no-data-found")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(C(t.t0));case 15:case"end":return t.stop()}var c}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(t){t(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:e?g.REQUEST_PLAY:g.REQUEST_PAUSE}}(e))}},F=n(32),G=(n(62),function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(P.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSearchPress,n=Object(F.a)(e,["onSearchPress"]);return c.a.createElement("div",{className:"search-bar-wrapper"},c.a.createElement("input",Object.assign({className:"search-bar-input"},n)),c.a.createElement("button",{className:"search-button",onClick:t},"Search"))}}]),t}(r.PureComponent)),U=n(11),I=(n(26),Object(r.memo)((function(e){var t=e.src,n=e.staticSrc,a=Object(r.useState)(!1),i=Object(U.a)(a,2),s=i[0],l=i[1],u=Object(r.useState)(!1),f=Object(U.a)(u,2),g=f[0],h=f[1],m=Object(o.c)((function(e){return e.gif.isPlaying}));return c.a.createElement("div",{className:"gif-image-wrapper ".concat(m?"is-active":"")},(!s||!g)&&c.a.createElement("div",{className:"gif-loading"},"Loading GIF..."),c.a.createElement("img",{className:"gif-image static",onLoad:function(){l(!0)},src:n,alt:"animated"}),c.a.createElement("img",{className:"gif-image dynamic",onLoad:function(){h(!0)},src:t,alt:"animated"}))}))),R=Object(r.memo)((function(e){var t=e.gifs,n=void 0===t?[]:t;return c.a.createElement("div",{className:"gif-list"},c.a.createElement("div",{className:"gif-wrapper"},n.map((function(e,t){return c.a.createElement(I,{key:t.toString(),staticSrc:e.images.downsized_still.url,src:e.images.downsized.url})}))))})),L=(n(63),window.innerWidth<798),Q=Object(r.memo)((function(e){var t=e.totalPages,n=e.currentPage,a=e.pageLimit,i=void 0===a?L?3:6:a,s=e.onPagePress,o=e.onPrevButtonPress,l=e.onNextButtonPress,u=Object(r.useState)(1),f=Object(U.a)(u,2),g=f[0],h=f[1];return c.a.createElement("div",{className:"paginatin-tab"},c.a.createElement("div",{className:"page-buttons-wrapper"},c.a.createElement("button",{className:"page-button",onClick:function(){if(1!==g){var e=g-i;e>0&&(h(e),o(e))}}},L?"<":"Prev"),function(){for(var e=[],t=g+i-1,a=function(t){e.push(c.a.createElement("button",{key:"page_".concat(t),onClick:function(){return s(t)},className:"page-button ".concat(n===t?"is-active":"")},t))},r=g;r<=t;r+=1)a(r);return e}(),c.a.createElement("button",{className:"page-button",onClick:function(){if(g!==t){var e=g+i;e<=t&&(h(e),l(e))}}},L?">":"Next")))})),x=(n(64),function(e){var t=e.brandName,n=(e.isDarkTheme,e.children);return c.a.createElement("nav",{className:"navbar"},c.a.createElement("p",{className:"navbar-brand-name"},t),c.a.createElement("div",{className:"navbar-toggle"},n))}),A=(n(65),function(e){var t=e.text,n=e.onTagPress,a=e.isActive,r=void 0!==a&&a;return c.a.createElement("button",{className:"tag ".concat(r?"is-active":""),onClick:function(){n(t)}},t)}),D=(n(66),function(e){return c.a.createElement("label",{className:"switch"},c.a.createElement("input",Object.assign({},e,{type:"checkbox"})),c.a.createElement("span",{className:"slider round"}))}),q=(n(67),function(e){var t=localStorage.getItem(e);return JSON.parse(t)}),H=function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},B=function(e){var t=q("gojek_gifted_search");t?(t.length>=5&&t.pop(),t.unshift(e),H("gojek_gifted_search",t)):H("gojek_gifted_search",t=[e])},Y=function(){return q("gojek_gifted_search")},z=function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(S.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:1,query:m,darkThemeEnabled:!1,search_entries:[]},n.updateSearchEntry=function(){var e=Y();n.setState({search_entries:e})},n.updatePage=function(e){var t=(e-1)*h+1;n.setState({currentPage:e},(function(){n.props.fetchGifs({q:n.state.query,offset:t})}))},n.handleOnQueryChange=function(e){n.setState({query:e.target.value})},n.handleFetchGifs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=n.state.query,r=void 0===a?"":a,c=t||r;B(c);var i=Y();c&&e&&n.setState((function(e){return{query:c,search_entries:i}}),(function(){n.props.fetchGifs({q:c,offset:e})}))},n.handleOnKeyPress=function(e){"Enter"===e.key&&n.handleFetchGifs()},n.handleThemeToggle=function(e){n.setState({darkThemeEnabled:e})},n.handlePlayToggle=function(e){n.props.togglePlay(e)},n.renderGifs=function(){var e=n.props,t=e.gifs,a=e.fetchingGifs,r=e.fetchingGifsError;return t&&t.length>0?c.a.createElement(R,{gifs:t}):a||r?c.a.createElement("div",{className:"gif-status-section"},a&&c.a.createElement("p",{className:"status-text"},"Loading..."),r&&c.a.createElement("p",{className:"status-text"},"Unable to load gifs.")):c.a.createElement("div",{className:"gif-status-section"},c.a.createElement("p",{className:"status-text"},"No Gifs Found."),";")},n.renderSearchEntries=function(){var e=n.state.search_entries,t=void 0===e?[]:e;return t&&0!==t.length?c.a.createElement("div",{className:"tags-wrapper"},t.map((function(e,t){return c.a.createElement(A,{key:"tag_".concat(t),onTagPress:function(e){return n.handleFetchGifs(1,e)},text:e})}))):null},n}return Object(P.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGifs({q:m}),this.updateSearchEntry()}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentPage,a=t.darkThemeEnabled,r=t.query;return c.a.createElement("div",{className:"container theme-".concat(a?"dark":"light")},c.a.createElement(x,{brandName:"GIFted"},c.a.createElement("div",{className:"label"},this.props.gifPlaying?"Pause":"Play"),c.a.createElement(D,{onChange:function(t){return e.handlePlayToggle(t.target.checked)}}),"\xa0\xa0",c.a.createElement("div",{className:"label"},a?"Dark Theme":"Light Theme"),c.a.createElement(D,{onChange:function(t){return e.handleThemeToggle(t.target.checked)}})),c.a.createElement(G,{ref:function(t){return e.searchBarDom=t},onSearchPress:function(){return e.handleFetchGifs()},onChange:this.handleOnQueryChange,value:r,onKeyPress:this.handleOnKeyPress,placeholder:"Search a gif..."}),this.renderSearchEntries(),c.a.createElement(Q,{totalPages:this.props.totalPages,onPrevButtonPress:this.updatePage,onNextButtonPress:this.updatePage,onPagePress:this.updatePage,currentPage:n}),this.renderGifs())}}]),t}(r.Component),J=Object(o.b)((function(e){return{gifs:e.gif.gifs,fetchingGifs:e.gif.isFetching,fetchingGifsError:e.gif.isError?e.gif.error:null,totalPages:e.gif.totalPages,gifPlaying:e.gif.isPlaying}}),(function(e){return Object(l.b)({fetchGifs:T,togglePlay:w},e)}))(z),W=(n(68),a=function(){return c.a.createElement(o.a,{store:p},c.a.createElement(J,null))},function(e){function t(){var e,n;Object(v.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(S.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={isDisconnected:!1},n.handleConnectionChange=function(){if(navigator.onLine)var e=setInterval((function(){fetch("//google.com",{mode:"no-cors"}).then((function(){n.setState({isDisconnected:!1},(function(){return clearInterval(e)}))})).catch((function(){return n.setState({isDisconnected:!0})}))}),2e3);else n.setState({isDisconnected:!0})},n}return Object(P.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){var e=this.state.isDisconnected;return c.a.createElement(c.a.Fragment,null,e&&c.a.createElement("div",{className:"internet-error"},c.a.createElement("p",{className:"title"},"No network"),c.a.createElement("p",{className:"subtitle"},"Please connect to internet and refresh.")),!e&&c.a.createElement(a,this.props))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.1499b053.chunk.js.map